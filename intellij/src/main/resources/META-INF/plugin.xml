<idea-plugin>
    <id>com.easyprompt.intellij</id>
    <name>Easy Prompt</name>
    <vendor>Easy Prompt</vendor>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable
                parentId="tools"
                instance="com.easyprompt.settings.EasyPromptConfigurable"
                id="com.easyprompt.settings"
                displayName="Easy Prompt"/>
        <applicationService
                serviceImplementation="com.easyprompt.settings.EasyPromptSettings"/>
        <notificationGroup id="Easy Prompt"
                           displayType="BALLOON"
                           isLogByDefault="true"/>
        <postStartupActivity
                implementation="com.easyprompt.ui.WelcomeStartupActivity"/>
        <statusBarWidgetFactory
                id="EasyPrompt.StatusBar"
                implementation="com.easyprompt.ui.EasyPromptStatusBarWidgetFactory"
                order="after encodingWidget"/>
    </extensions>

    <actions>
        <group id="EasyPrompt.Group" text="Easy Prompt" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>

            <action id="EasyPrompt.EnhanceSelected"
                    class="com.easyprompt.actions.EnhanceSelectedAction"
                    text="增强选中文本"
                    description="将选中文本通过 AI 智能增强为专业 Prompt">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt P"/>
            </action>

            <action id="EasyPrompt.SmartEnhance"
                    class="com.easyprompt.actions.SmartEnhanceAction"
                    text="智能增强"
                    description="自动判断增强选中/文件/剪贴板内容，无需手动选择">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt I"/>
            </action>

            <action id="EasyPrompt.EnhanceInput"
                    class="com.easyprompt.actions.EnhanceInputAction"
                    text="快速输入增强"
                    description="通过输入框输入文本进行 AI Prompt 增强">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt O"/>
            </action>

            <action id="EasyPrompt.ShowScenes"
                    class="com.easyprompt.actions.ShowScenesAction"
                    text="浏览场景列表"
                    description="查看所有可用的 Prompt 增强场景">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt L"/>
            </action>

            <action id="EasyPrompt.EnhanceWithScene"
                    class="com.easyprompt.actions.EnhanceWithSceneAction"
                    text="指定场景增强"
                    description="手动选择场景进行精准定向 Prompt 增强">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt M"/>
            </action>

            <action id="EasyPrompt.ShowWelcome"
                    class="com.easyprompt.actions.ShowWelcomeAction"
                    text="查看使用教程"
                    description="显示 Easy Prompt 使用教程和场景列表">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt H"/>
            </action>

            <action id="EasyPrompt.StatusBarMenu"
                    class="com.easyprompt.actions.StatusBarMenuAction"
                    text="打开快捷菜单"
                    description="显示 Easy Prompt 快捷操作菜单"/>
        </group>
    </actions>
</idea-plugin>
